<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom fixed-top">
    <div class="container">
        <a class="navbar-brand" href="{{ pathFor('index') }}">
            <img src="{{ t.h('code_editor_txt::logo') }}"/> {{ t.h('code_editor_txt::title') }}
        </a>
        <button
            aria-controls="navbarContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
            class="navbar-toggler"
            data-target="#navbarContent"
            data-toggle="collapse"
            type="button">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarContent">
            <ul class="navbar-nav mr-auto">
                {{ extensions.content('nav-left-before') }}
                {% if can.maintain %}
                    <li class="nav-item dropdown">
                        <a
                            aria-expanded="false"
                            aria-haspopup="true"
                            class="nav-link dropdown-toggle"
                            data-toggle="dropdown"
                            href="#"
                            id="navbarDropdown"
                            role="button">
                            {{ t.Administration }}
                        </a>
                        <div aria-labelledby="navbarDropdown" class="dropdown-menu">
                            {{ extensions.content('nav-admin-before') }}
                            {% if app.id == 0 %}
                                <a href="{{ pathFor('app-list') }}" class="dropdown-item">{{ t.Applications }}</a>
                                {% else %}
                                <a href="{{ pathFor('edit', {'set': 'code_set'}) }}" class="dropdown-item">{{ t.CreateCodeSet }}</a>
                                <a href="{{ pathFor('slave') }}" class="dropdown-item">{{ t.CreateSlaveSet }}</a>
                            {% endif %}
                            <div class="dropdown-divider"></div>
                            {% if can.admin %}
                                {% for nav in adminNav %}
                                    <a class="dropdown-item" href="{{ nav.url }}">{{ nav.name }}</a>
                                {% endfor %}
                            {% endif %}
                            {{ extensions.content('nav-admin-after') }}
                        </div>
                    </li>
                {% endif %}
                <li class="nav-item dropdown">
                    <a
                        aria-expanded="false"
                        aria-haspopup="true"
                        class="nav-link dropdown-toggle"
                        data-toggle="dropdown"
                        href="#"
                        id="navbarDropdownLang"
                        role="button">
                        {{ t.h('code_set::code_lang') }}
                    </a>
                    <div aria-labelledby="navbarDropdownLang" class="dropdown-menu">
                        {{ extensions.content('nav-languages-before') }}
                        {% for lang in languages %}
                            <a class="dropdown-item" href="?language={{ lang.code }}">{{ lang.desc }}</a>
                        {% endfor %}
                        {{ extensions.content('nav-languages-after') }}
                    </div>
                </li>
                {{ extensions.content('nav-left-after') }}
            </ul>
            <ul class="navbar-nav mx-auto">
                {{ extensions.content('nav-center') }}
            </ul>
            <ul class="navbar-nav ml-auto">
                {{ extensions.content('nav-right-before') }}
                {% if user %}
                    <li class="nav-item">
                        <a class="nav-link" href="{{ pathFor('logout') }}" data-toggle="tooltip" title="{{ t.Logout }}">
                            {{ app ? t.md(app.name) }} {{ user ? '(' ~ user ~ ')' }}
                            <i class="fa fa-fw fa-sign-out"></i>
                        </a>
                    </li>
                {% endif %}
                {{ extensions.content('nav-right-after') }}
            </ul>
        </div>
    </div>
</nav>
